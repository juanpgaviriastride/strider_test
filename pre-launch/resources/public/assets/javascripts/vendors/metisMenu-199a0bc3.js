!function(t){"use strict";function e(){var t=document.createElement("mm"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}function i(e){return this.each(function(){var i=t(this),s=i.data("mm"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);s||i.data("mm",s=new n(this,o)),"string"==typeof e&&s[e]()})}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("mmTransitionEnd",function(){i=!0});var o=function(){i||t(n).trigger(s.end)};return setTimeout(o,e),this};var s=e();s&&(t.event.special.mmTransitionEnd={bindType:s.end,delegateType:s.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}});var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.transitioning=null,this.init()};n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0,doubleTapToGo:!1,activeClass:"active"},n.prototype.init=function(){var e=this,i=this.options.activeClass;this.$element.find("li."+i).has("ul").children("ul").addClass("collapse in"),this.$element.find("li").not("."+i).has("ul").children("ul").addClass("collapse"),this.options.doubleTapToGo&&this.$element.find("li."+i).has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(s){var n=t(this),o=n.parent("li"),r=o.children("ul");return s.preventDefault(),o.hasClass(i)?e.hide(r):e.show(r),e.options.doubleTapToGo&&e.doubleTapToGo(n)&&"#"!==n.attr("href")&&""!==n.attr("href")?(s.stopPropagation(),void(document.location=n.attr("href"))):void 0})},n.prototype.doubleTapToGo=function(t){var e=this.$element;return t.hasClass("doubleTapToGo")?(t.removeClass("doubleTapToGo"),!0):t.parent().children("ul").length?(e.find(".doubleTapToGo").removeClass("doubleTapToGo"),t.addClass("doubleTapToGo"),!1):void 0},n.prototype.show=function(e){var i=this.options.activeClass,o=t(e),r=o.parent("li");if(!this.transitioning&&!o.hasClass("in")){r.addClass(i),this.options.toggle&&this.hide(r.siblings().children("ul.in")),o.removeClass("collapse").addClass("collapsing").height(0),this.transitioning=1;var a=function(){o.removeClass("collapsing").addClass("collapse in").height(""),this.transitioning=0};return s?void o.one("mmTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION).height(o[0].scrollHeight):a.call(this)}},n.prototype.hide=function(e){var i=this.options.activeClass,o=t(e);if(!this.transitioning&&o.hasClass("in")){o.parent("li").removeClass(i),o.height(o.height())[0].offsetHeight,o.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,o.removeClass("collapsing").addClass("collapse")};return s?void o.height(0).one("mmTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION):r.call(this)}};var o=t.fn.metisMenu;t.fn.metisMenu=i,t.fn.metisMenu.Constructor=n,t.fn.metisMenu.noConflict=function(){return t.fn.metisMenu=o,this}}(jQuery);